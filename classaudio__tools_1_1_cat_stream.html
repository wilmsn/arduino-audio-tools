<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>arduino-audio-tools: CatStream Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">arduino-audio-tools
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceaudio__tools.html">audio_tools</a></li><li class="navelem"><a class="el" href="classaudio__tools_1_1_cat_stream.html">CatStream</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classaudio__tools_1_1_cat_stream-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CatStream Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span><div class="ingroups"><a class="el" href="group__main.html">Arduino Audio Tools</a> &raquo; <a class="el" href="group__io.html">IO</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides data from a concatenation of Streams. Please note that the provided Streams can be played only once! You will need to reset them (e.g. moving the file pointer to the beginning) and readd them back if you want to process them a second time. The default timeout on the available() method is set to 0. This might be not good if you use e.g. a <a class="el" href="classaudio__tools_1_1_u_r_l_stream.html" title="Represents the content of a URL as Stream. We use the WiFi.h API.">URLStream</a>.  
 <a href="classaudio__tools_1_1_cat_stream.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_base_stream_8h_source.html">BaseStream.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CatStream:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classaudio__tools_1_1_cat_stream.png" usemap="#CatStream_map" alt=""/>
  <map id="CatStream_map" name="CatStream_map">
<area href="classaudio__tools_1_1_base_stream.html" title="Base class for all Streams. It relies on write(const uint8_t *buffer, size_t size) and readBytes(uint..." alt="BaseStream" shape="rect" coords="0,112,79,136"/>
<area href="classaudio__tools_1_1_stream.html" alt="Stream" shape="rect" coords="0,56,79,80"/>
<area href="classaudio__tools_1_1_print.html" alt="Print" shape="rect" coords="0,0,79,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6f12eccd62d80924968fa1ee86faa414"><td class="memItemLeft" align="right" valign="top"><a id="a6f12eccd62d80924968fa1ee86faa414"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>add</b> (<a class="el" href="classaudio__tools_1_1_stream.html">Stream</a> &amp;stream)</td></tr>
<tr class="separator:a6f12eccd62d80924968fa1ee86faa414"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf9465ef7e9b4bb6502f4db084f39750"><td class="memItemLeft" align="right" valign="top"><a id="abf9465ef7e9b4bb6502f4db084f39750"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>add</b> (<a class="el" href="classaudio__tools_1_1_stream.html">Stream</a> *stream)</td></tr>
<tr class="separator:abf9465ef7e9b4bb6502f4db084f39750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a692e2b18b3c2452e38e3f558ad87e9a5"><td class="memItemLeft" align="right" valign="top"><a id="a692e2b18b3c2452e38e3f558ad87e9a5"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>available</b> () override</td></tr>
<tr class="separator:a692e2b18b3c2452e38e3f558ad87e9a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ff0d6d1b0f3f9b652c9d5298ed0863c"><td class="memItemLeft" align="right" valign="top"><a id="a6ff0d6d1b0f3f9b652c9d5298ed0863c"></a>
virtual int&#160;</td><td class="memItemRight" valign="bottom"><b>availableForWrite</b> () override</td></tr>
<tr class="separator:a6ff0d6d1b0f3f9b652c9d5298ed0863c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a601fb7cf1fc15db50c71a826f084f934"><td class="memItemLeft" align="right" valign="top"><a id="a601fb7cf1fc15db50c71a826f084f934"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>begin</b> ()</td></tr>
<tr class="separator:a601fb7cf1fc15db50c71a826f084f934"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf81d3fdaf258088d7692fa70cece087"><td class="memItemLeft" align="right" valign="top"><a id="aaf81d3fdaf258088d7692fa70cece087"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>end</b> ()</td></tr>
<tr class="separator:aaf81d3fdaf258088d7692fa70cece087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af654b48544c195ab99fe27e7bc3ed5fe"><td class="memItemLeft" align="right" valign="top"><a id="af654b48544c195ab99fe27e7bc3ed5fe"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>flush</b> () override</td></tr>
<tr class="separator:af654b48544c195ab99fe27e7bc3ed5fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b3baad8c612d81b96e46f84d7e97580"><td class="memItemLeft" align="right" valign="top"><a id="a9b3baad8c612d81b96e46f84d7e97580"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_cat_stream.html#a9b3baad8c612d81b96e46f84d7e97580">operator bool</a> ()</td></tr>
<tr class="memdesc:a9b3baad8c612d81b96e46f84d7e97580"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if active and we still have data. <br /></td></tr>
<tr class="separator:a9b3baad8c612d81b96e46f84d7e97580"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c5c6275ddee80eb02839356b6185c0b"><td class="memItemLeft" align="right" valign="top"><a id="a4c5c6275ddee80eb02839356b6185c0b"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>readBytes</b> (uint8_t *data, size_t len) override</td></tr>
<tr class="separator:a4c5c6275ddee80eb02839356b6185c0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2323dfdf06c12691e1d8cecb4e5571a"><td class="memItemLeft" align="right" valign="top"><a id="ab2323dfdf06c12691e1d8cecb4e5571a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setOnBeginCallback</b> (void(*callback)(<a class="el" href="classaudio__tools_1_1_stream.html">Stream</a> *stream))</td></tr>
<tr class="separator:ab2323dfdf06c12691e1d8cecb4e5571a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac086592b40504cfc36f65b603313dc5f"><td class="memItemLeft" align="right" valign="top"><a id="ac086592b40504cfc36f65b603313dc5f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setOnEndCallback</b> (void(*callback)(<a class="el" href="classaudio__tools_1_1_stream.html">Stream</a> *stream))</td></tr>
<tr class="separator:ac086592b40504cfc36f65b603313dc5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a821c8ca9792a296de36ca29ee7044bb8"><td class="memItemLeft" align="right" valign="top"><a id="a821c8ca9792a296de36ca29ee7044bb8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setTimeout</b> (uint32_t t)</td></tr>
<tr class="separator:a821c8ca9792a296de36ca29ee7044bb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dc19ad83d7464f1a4c104d76ba37aa7"><td class="memItemLeft" align="right" valign="top"><a id="a2dc19ad83d7464f1a4c104d76ba37aa7"></a>
virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><b>write</b> (const uint8_t *buffer, size_t size) override=0</td></tr>
<tr class="separator:a2dc19ad83d7464f1a4c104d76ba37aa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adffba128cba62b029746648f6946945c"><td class="memItemLeft" align="right" valign="top"><a id="adffba128cba62b029746648f6946945c"></a>
virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><b>write</b> (uint8_t ch) override</td></tr>
<tr class="separator:adffba128cba62b029746648f6946945c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a4028d0a685a076cdd3c413190340f17d"><td class="memItemLeft" align="right" valign="top"><a id="a4028d0a685a076cdd3c413190340f17d"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>availableWithTimout</b> ()</td></tr>
<tr class="separator:a4028d0a685a076cdd3c413190340f17d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7308a6a280ee7d4403d8f3f9da7a31c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classaudio__tools_1_1_cat_stream.html#ae7308a6a280ee7d4403d8f3f9da7a31c">moveToNextStreamOnEnd</a> ()</td></tr>
<tr class="separator:ae7308a6a280ee7d4403d8f3f9da7a31c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5caf99a24686511722c4c9f94c4ec52e"><td class="memItemLeft" align="right" valign="top"><a id="a5caf99a24686511722c4c9f94c4ec52e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>refillReadBuffer</b> ()</td></tr>
<tr class="separator:a5caf99a24686511722c4c9f94c4ec52e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:af0449bef76b753316496d666b99fdb14"><td class="memItemLeft" align="right" valign="top"><a id="af0449bef76b753316496d666b99fdb14"></a>
uint_fast32_t&#160;</td><td class="memItemRight" valign="bottom"><b>_timeout</b> = 0</td></tr>
<tr class="separator:af0449bef76b753316496d666b99fdb14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26a11af87046103e8c6ee1a290926bfd"><td class="memItemLeft" align="right" valign="top"><a id="a26a11af87046103e8c6ee1a290926bfd"></a>
void(*&#160;</td><td class="memItemRight" valign="bottom"><b>begin_callback</b> )(<a class="el" href="classaudio__tools_1_1_stream.html">Stream</a> *stream) = nullptr</td></tr>
<tr class="separator:a26a11af87046103e8c6ee1a290926bfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad570ea0db627fc819221a352d70bf95d"><td class="memItemLeft" align="right" valign="top"><a id="ad570ea0db627fc819221a352d70bf95d"></a>
void(*&#160;</td><td class="memItemRight" valign="bottom"><b>end_callback</b> )(<a class="el" href="classaudio__tools_1_1_stream.html">Stream</a> *stream) = nullptr</td></tr>
<tr class="separator:ad570ea0db627fc819221a352d70bf95d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03b553248a33652b0e5a2bd575716ee1"><td class="memItemLeft" align="right" valign="top"><a id="a03b553248a33652b0e5a2bd575716ee1"></a>
<a class="el" href="classaudio__tools_1_1_vector.html">Vector</a>&lt; <a class="el" href="classaudio__tools_1_1_stream.html">Stream</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>input_streams</b></td></tr>
<tr class="separator:a03b553248a33652b0e5a2bd575716ee1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a407c3efba665d276a38229f905bef352"><td class="memItemLeft" align="right" valign="top"><a id="a407c3efba665d276a38229f905bef352"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>is_active</b> = false</td></tr>
<tr class="separator:a407c3efba665d276a38229f905bef352"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4644adbd09cec8576637c21bcf1d2bb8"><td class="memItemLeft" align="right" valign="top"><a id="a4644adbd09cec8576637c21bcf1d2bb8"></a>
<a class="el" href="classaudio__tools_1_1_stream.html">Stream</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>p_current_stream</b> = nullptr</td></tr>
<tr class="separator:a4644adbd09cec8576637c21bcf1d2bb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf64bd29ec689f2d7574efbb63f440bb"><td class="memItemLeft" align="right" valign="top"><a id="adf64bd29ec689f2d7574efbb63f440bb"></a>
<a class="el" href="classaudio__tools_1_1_ring_buffer.html">RingBuffer</a>&lt; uint8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>tmp_in</b> {0}</td></tr>
<tr class="separator:adf64bd29ec689f2d7574efbb63f440bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add363d597c7d8108a5350406105d158d"><td class="memItemLeft" align="right" valign="top"><a id="add363d597c7d8108a5350406105d158d"></a>
<a class="el" href="classaudio__tools_1_1_ring_buffer.html">RingBuffer</a>&lt; uint8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>tmp_out</b> {0}</td></tr>
<tr class="separator:add363d597c7d8108a5350406105d158d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides data from a concatenation of Streams. Please note that the provided Streams can be played only once! You will need to reset them (e.g. moving the file pointer to the beginning) and readd them back if you want to process them a second time. The default timeout on the available() method is set to 0. This might be not good if you use e.g. a <a class="el" href="classaudio__tools_1_1_u_r_l_stream.html" title="Represents the content of a URL as Stream. We use the WiFi.h API.">URLStream</a>. </p>
<dl class="section author"><dt>Author</dt><dd>Phil Schatzmann </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GPLv3 </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ae7308a6a280ee7d4403d8f3f9da7a31c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7308a6a280ee7d4403d8f3f9da7a31c">&#9670;&nbsp;</a></span>moveToNextStreamOnEnd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool moveToNextStreamOnEnd </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>moves to the next stream if necessary: returns true if we still have a valid stream </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/AudioTools/<a class="el" href="_base_stream_8h_source.html">BaseStream.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
